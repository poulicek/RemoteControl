<style>
    #view-gamepad.grid { grid-template-rows: auto 3fr 1fr auto; }
    #view-gamepad.grid > div { display: grid; height: 100%; }
    #view-gamepad #center { display: none; }
    #view-gamepad .button.string { font-size: .6em; }

    #view-gamepad .cross { display: grid; grid-template-columns: auto auto; width: 70vmin; height: 70vmin; max-width: 45vh; max-height: 45vh; margin: auto; transform: rotate(45deg); }
    #view-gamepad .cross:last-of-type { display: none; }

    #view-gamepad .cross .button span { transform: rotate(-45deg); position: relative; z-index: 1; }
    #view-gamepad .cross .button:nth-child(1) { border-radius: 100% 5px 5px 5px; }
    #view-gamepad .cross .button:nth-child(2) { border-radius: 5px 100% 5px 5px; }
    #view-gamepad .cross .button:nth-child(3) { border-radius: 5px 5px 5px 100%; }
    #view-gamepad .cross .button:nth-child(4) { border-radius: 5px 5px 100% 5px; }

    #view-gamepad .cross .circle { min-width: 20%; min-height: 20%; position: absolute; grid-row-start: 1; grid-row-end: 3; grid-column-start: 1; grid-column-end: 3; justify-self: center; align-self: center; border-radius: 100%; background: #0a1922; }
    #view-gamepad .cross .circle { transition: all .15s ease-out; }
    #view-gamepad .cross .circle.active { min-width: 100%; min-height: 100%; }

    #view-gamepad #top { display: grid; grid-template-columns: 1fr 1fr; }
    #view-gamepad #top .button { display: none; }
    #view-gamepad #top .button:nth-child(1) { display: grid; justify-self: left; }

    #view-gamepad #bottom .button.long { width: 65vmin; justify-self: center; }
    #view-gamepad #bottom .button:first-of-type { display: none; }
    #view-gamepad #bottom .button:last-of-type { display: none; }

    #view-gamepad #footer { justify-items: left; grid-auto-flow: column; width: 100%; }
    #view-gamepad #footer .button:last-child { justify-self: right; }

    @media screen and (min-width: 480px) and (orientation: landscape) {
        #view-gamepad.grid { grid-template-rows: auto auto auto; padding: 2vmin; }
        #view-gamepad #middle { grid-template-columns: 1fr auto 1fr; }
        #view-gamepad #center { display: grid; align-self: start; }

        #view-gamepad .cross { max-width: 33vw; max-height: 33vw; }
        #view-gamepad .cross:last-of-type { display: grid; }

        #view-gamepad #top { visibility: visible; align-items: start; }
        #view-gamepad #top .button:nth-child(1) { min-height: 0px; height: .4in; }
        #view-gamepad #top .button:nth-child(2) { display: grid; justify-self: right; }

        #view-gamepad #bottom { grid-template-columns: 1fr 50vmin 1fr; align-items: end; }
        #view-gamepad #bottom .button.long { width: 50vmin; }
        #view-gamepad #bottom .button:nth-child(1) { display: grid; justify-self: left; }
        #view-gamepad #bottom .button:nth-child(3) { display: grid; justify-self: right; }

        #view-gamepad #footer { display: none; }
    }

</style>

<div id="view-gamepad" class="grid">

    <div id="top">
        <a class="button icon dimmed wide-small" href="#menu">&#xe5c3;</a>
        <a rel="down" class="button bottom small string" href="?c=key&v=27&a=">ESC</a>        
    </div>

    <div id="middle">
        <div class="cross">
            <a rel="down" class="icon button outline" href="?c=key&v=38&a="><span>&#58134;</span></a>
            <a rel="down" class="icon button outline" href="?c=key&v=39&a="><span>&#58133;</span></a>
            <a rel="down" class="icon button outline" href="?c=key&v=37&a="><span>&#58132;</span></a>
            <a rel="down" class="icon button outline" href="?c=key&v=40&a="><span>&#58131;</span></a>
            <a rel="grip" class="circle button outline" href="?c=grip&v=38,39,40,37&a="></a>
        </div>
        <div id="center">
            <a rel="down" class="icon button small" href="?c=key&v=8"></a>
            <a rel="script" class="button bottom small string" href="#" onclick="switchScanMode(this);">SCN</a>
        </div>
        <div class="cross">
            <a rel="down" class="button outline string" href="?c=key&v=160&a="><span>SHIFT</span></a>
            <a rel="down" class="button outline icon" href="?c=key&v=13&a="><span>&#xe31b;</span></a>
            <a rel="down" class="button outline string" href="?c=key&v=163&a="><span>CTRL</span></a>
            <a rel="down" class="button outline string" href="?c=key&v=165&a="><span>ALT</span></a>
            <a rel="grip" class="circle button outline" href="?c=grip&v=89,66,65,88&a="></a>
        </div>
    </div>

    <div id="bottom">
        <a class="button icon small dimmed" href="#main">&#xe500;</a>
        <a rel="down" class="button outline small long icon" href="?c=key&v=32&a=">&#xe256;</a>
        <a rel="js" class="button icon small dimmed" onclick="return focusKeyboard(this, true)" href="#">&#xe312;</a>
    </div>

    <div id="footer">
        <a class="button icon small dimmed" href="#main">&#xe500;</a>
        <a rel="js" class="button icon small dimmed" onclick="return focusKeyboard(this, true)" href="#">&#xe312;</a>
    </div>

</div>